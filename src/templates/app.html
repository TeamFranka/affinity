<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title><%= title %></title>

    <base href="/" />

    <meta name="color-scheme" content="light dark" />
    <meta
      name="viewport"
      content="viewport-fit=cover, width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no"
    />
    <!--
      FIXME: this is probably a bit more open than it should be, but the proper CSP for both code-push AND serving ionic is hard
      https://github.com/TeamFranka/affinity/issues/165
    -->
    <meta
      http-equiv="Content-Security-Policy"
      content="default-src * https://codepush.appcenter.ms data: gap: https://ssl.gstatic.com blob: filesystem: about: ws: wss: 'unsafe-inline' 'unsafe-eval' ; script-src * data: blob: 'unsafe-inline' 'unsafe-eval'; connect-src * data: blob: 'unsafe-inline'; img-src * data: blob: 'unsafe-inline'; frame-src * data: blob: ; style-src * data: blob: 'unsafe-inline'; font-src * data: blob: 'unsafe-inline'; media-src *"
    />
    <meta name="format-detection" content="telephone=no" />
    <meta name="msapplication-tap-highlight" content="no" />

    <!-- extraMeta -->

    <!-- add to homescreen for ios -->
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-title" content="<%= title %>" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  </head>

  <body>
    <script>
      window.AFFINITY_DEFAULT_TEAM = "<%= settings.AFFINITY_DEFAULT_TEAM %>";
      window.AFFINITY_EXTRA_TEAMS = "<%= settings.AFFINITY_EXTRA_TEAMS %>";
      window.PARSE_APP_ID = "<%= settings.PARSE_APP_ID %>";
      window.PARSE_JS_KEY = "<%= settings.PARSE_JS_KEY %>";
      window.PARSE_URL = "<%= settings.PARSE_URL %>";
      window.PARSE_LIVE_URL = "<%= settings.PARSE_LIVE_URL %>";
      window.ANDROID_INSTALL_URL = "<%= settings.ANDROID_INSTALL_URL %>";
      window.IOS_INSTALL_URL = "<%= settings.IOS_INSTALL_URL %>";
    </script>
    <div id="app"></div>
  </body>

</html>

